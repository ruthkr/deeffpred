<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>More in predicting sequences â€¢ deepredeff</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="More in predicting sequences">
<meta property="og:description" content="deepredeff">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">deepredeff</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/overview.html">General overview of deepredeff</a>
    </li>
    <li>
      <a href="../articles/predict.html">More in predicting sequences</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ruthkr/deepredeff/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="predict_files/accessible-code-block-0.0.1/empty-anchor.js"></script><script src="predict_files/kePrint-0.0.1/kePrint.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>More in predicting sequences</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ruthkr/deepredeff/blob/master/vignettes/predict.Rmd"><code>vignettes/predict.Rmd</code></a></small>
      <div class="hidden name"><code>predict.Rmd</code></div>

    </div>

    
    
<div id="selecting-the-model" class="section level2">
<h2 class="hasAnchor">
<a href="#selecting-the-model" class="anchor"></a>Selecting the model</h2>
<p><code>deepredeff</code> provides a selection of models trained on sequences from different phytopathogen taxa. It is important to select the correct model. Each taxon is represented by just one model at the moment. You can select the model by setting the taxon in the main function, <code><a href="../reference/predict_effector.html">predict_effector()</a></code>. Available values are <code>bacteria</code>, <code>fungi</code> and <code>oomycete</code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="../reference/predict_effector.html">predict_effector</a></span>(
  input = <span class="st">"my_fungal_seqs.fa"</span>,
  taxon = <span class="st">"fungi"</span>
)
</pre></div>
<p>For each taxon, <code>deepredeff</code> uses a different model. These models are:</p>
<ul>
<li>
<code>bacteria</code>: <code>ensemble_weighted</code>, which is a weighted ensemble model of CNN-LSTM, CNN-GRU, GRU Embedding, and LSTM-Embedding.</li>
<li>
<code>fungi</code>: CNN-LSTM.</li>
<li>
<code>oomycete</code>: CNN-LSTM.</li>
</ul>
<p>The model used for your prediction will also be shown when you run the function <code><a href="../reference/predict_effector.html">predict_effector()</a></code> or when you run <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code>.</p>
</div>
<div id="importing-from-different-data-sources" class="section level2">
<h2 class="hasAnchor">
<a href="#importing-from-different-data-sources" class="anchor"></a>Importing from different data sources</h2>
<div id="sequences-in-a-dataframe" class="section level3">
<h3 class="hasAnchor">
<a href="#sequences-in-a-dataframe" class="anchor"></a>Sequences in a dataframe</h3>
<p>Here we will take example of fungal sequences in data frame format called <code>input_fungi_df</code> as shown below:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="kw">input_fungi_df</span> 
</pre></div>
<table class="table">
<thead><tr>
<th style="text-align:left;">
name
</th>
<th style="text-align:left;">
sequence
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;font-family: monospace;">
tr|A0A0A0S3X0|A0A0A0S3X0_LEPMC Avirulence protein OS=Leptosphaeria maculans OX=5022 GN=AvrLm2 PE=4 SV=1
</td>
<td style="text-align:left;width: 50em; font-family: monospace;">
MRLANFLFYLAPMIVSSLAFDFVPLSGELDFSQEMVFINLTQQQFSELHL QHQQWHQKNILKRYTLTELDEICQQYNANFRFNSGFCSGKDRRWDCYDLN FPTTQSERRVQRRRVCRGEHQTCETIDVINAFGAHARFPQCVHRFELPIN DPIPYKDSYQGQYTVEKALDDSWEDILANTGGSHVDFSYQSGTQHYQGYG LTFACIHCIGGSILRMIHANDPARATVTIKFH
</td>
</tr>
<tr>
<td style="text-align:left;font-family: monospace;">
tr|A0A0A2ILW0|A0A0A2ILW0_PENEN Peptidoglycan-binding Lysin subgroup OS=Penicillium expansum OX=27334 GN=PEX2_020570 PE=4 SV=1
</td>
<td style="text-align:left;width: 50em; font-family: monospace;">
MFFPSLILAAGSLSTLIQAIPHGAKHHHSLHRRAAATYAVMGGDGEASDG WPTISQWSEYETLWGLNQILIAASCDNSDDETSDINTSIKSIASETGVDA RFILAIIMQESKGCVRVQSTNNGVENTGLMQSHDGEGSCNKDGSKTTPCP SSMITQMIQDGTAGTTQGDGLKQCYEAQTGGTAAKYYKAARTYNSGSIAS SGNLGQGGATHCYASDIANRVRGWAGDVSECVEATIGTITSGVESALGGD DGSSSTSTSTTAAQSTETAEPVQTSSSAAEQPVTTEPIQTSSAPAQAAET SSAASSATSTETTSVAPAPTWTPSSNVQVAAQTTTPTPSWTTKSAPAATT APAASSSASGTAPLYPYASSSCQKYYTVKAGDFCDKVTEAVGISFLDLRS LNPGLDEKCSDLWLGYQYCIKA
</td>
</tr>
</tbody>
</table>
<p><code>deepredeff</code> accepts these directly. To predict fungal effectors, you can specify the model to <code>taxon= "fungi"</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="kw">pred_fungi</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/predict_effector.html">predict_effector</a></span>(
  input = <span class="kw">input_fungi_df</span>,
  taxon = <span class="st">"fungi"</span>
)
<span class="co">#&gt; Loaded models successfully!</span>
<span class="co">#&gt; Model used for taxon fungi: cnn_lstm.</span>
</pre></div>
</div>
<div id="sequences-in-aastringset" class="section level3">
<h3 class="hasAnchor">
<a href="#sequences-in-aastringset" class="anchor"></a>Sequences in AAStringSet</h3>
<p>In the same way as with the dataframe and fasta files we can use a Bioconductor AAStringSet object:</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="kw">input_oomycete_aastringset</span>
<span class="co">#&gt; AAStringSet object of length 10:</span>
<span class="co">#&gt;     width seq                                              names               </span>
<span class="co">#&gt; [1]   820 MVKLYCAVVGVAGSAFSVRVDES...SKKGKTAMILSRMHYDDDEADL sp|A0A0M5K865|CR1...</span>
<span class="co">#&gt; [2]   111 MRLAQVVVVIAASFLVATDALST...FQRYQKKANKIIEKQKAAAKNA tr|A5YTY8|A5YTY8_...</span>
</pre></div>
<p>To predict oomycete effectors, you can specify the model to <code>taxon= "oomycete"</code>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="kw">pred_oomycete</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/predict_effector.html">predict_effector</a></span>(
  input = <span class="kw">input_oomycete_aastringset</span>,
  taxon = <span class="st">"oomycete"</span>
)
<span class="co">#&gt; Loaded models successfully!</span>
<span class="co">#&gt; Model used for taxon oomycete: cnn_lstm.</span>
</pre></div>
</div>
<div id="predict-from-character-vectors" class="section level3">
<h3 class="hasAnchor">
<a href="#predict-from-character-vectors" class="anchor"></a>Predict from character vectors</h3>
<p>The same applies if we provide a character vector. Let us take an example of data in string format.</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="kw">input_bacteria_strings</span>
<span class="co">#&gt; [1] "MPINRPAFNLKLNTAIAQ..."</span>
<span class="co">#&gt; [2] "MQFMSRINRILFVAV..."</span>
</pre></div>
<p>To predict bacteria effectors, you can specify the model to <code>taxon = "bacteria"</code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="kw">pred_bacteria</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/predict_effector.html">predict_effector</a></span>(
  input = <span class="kw">input_bacteria_strings</span>,
  taxon = <span class="st">"bacteria"</span>
)
<span class="co">#&gt; Loaded models successfully!</span>
<span class="co">#&gt; Model used for taxon bacteria: ensemble_weighted.</span>
</pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Ruth Kristianingsih.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
