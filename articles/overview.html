<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>General overview of deepredeff • deepredeff</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="General overview of deepredeff">
<meta property="og:description" content="deepredeff">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">deepredeff</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/overview.html">General overview of deepredeff</a>
    </li>
    <li>
      <a href="../articles/predict.html">More in predicting sequences</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ruthkr/deepredeff/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="overview_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>General overview of deepredeff</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ruthkr/deepredeff/blob/master/vignettes/overview.Rmd"><code>vignettes/overview.Rmd</code></a></small>
      <div class="hidden name"><code>overview.Rmd</code></div>

    </div>

    
    
<p><code>deepredeff</code> - from ‘deep learning prediction of effector’ is a package contains trained deep learning models for predicting effector proteins. <code>deepredeff</code> has been trained to classify effector protein using set of known experimentally validated effectors from phytopathogenic bacteria, fungi and oomycetes.</p>
<p><code>deepredeff</code> has the following key features:</p>
<ol style="list-style-type: decimal">
<li><p>Allows user to choose different model provided depending on the input data they have. The provided models are bacteria, fungi, oomyecete. In case user does not know the pathogenity type of the data, then they can use option <code>all</code> which will use the model trained in all training datasets.</p></li>
<li><p>Supports effector proteins prediction with different input formats, which are FASTA, data frame, AAString, AAStringset, or even string format data.</p></li>
<li><p>Allows user to get quick summary and plot of the prediction results they have.</p></li>
</ol>
<p>This vignette provides a brief overview of the capabilities of <code>deepredeff</code> package.</p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>I will show you how to install the <code>deepredeff</code> package and prepare some requirements to get it ready to be used. First, we need to install the package itself by doing the following step:</p>
<div id="install-deepredeff" class="section level3">
<h3 class="hasAnchor">
<a href="#install-deepredeff" class="anchor"></a>Install deepredeff</h3>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"devtools"</span>)
<span class="kw">devtools</span>::<span class="fu">install_github</span>(<span class="st">"ruthkr/deepredeff"</span>)
</pre></div>
<p>The deepredeff package uses TensorFlow which is distributed as a Python package and so needs to be installed within a Python environment on your system. Therefore, you need to have Python in your system and the TensorFlow backend, which can be done in the following section.</p>
</div>
<div id="installing-tensorflow" class="section level3">
<h3 class="hasAnchor">
<a href="#installing-tensorflow" class="anchor"></a>Installing TensorFlow</h3>
<p>To install TensorFlow on your system, you need to run the following commands. <strong>Note that this only needs to be run once</strong> (the first time you use <code>deepredeff</code>).</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw"><a href="https://github.com/ruthkr/deepredeff">deepredeff</a></span>)
<span class="fu"><a href="../reference/install_tensorflow.html">install_tensorflow</a></span>()
</pre></div>
<p>This will provide you with an installation of Python and TensorFlow suitable for use with the <code>deepredeff</code> R package. In particular, this command will download and install Miniconda, and create the <code>r-reticulate</code> environment in the following locations:</p>
<ul>
<li><p><strong>GNU/Linux</strong>: <code>/home/&lt;user&gt;/.local/share/r-miniconda/envs/r-reticulate</code></p></li>
<li><p><strong>macOS</strong>: <code>/Users/&lt;user&gt;/Library/r-miniconda/envs/r-reticulate</code></p></li>
<li><p><strong>Windows</strong>: <code>C:/Users/runneradmin/AppData/Local/r-miniconda/envs/r-reticulate</code></p></li>
</ul>
</div>
</div>
<div id="sample-data" class="section level2">
<h2 class="hasAnchor">
<a href="#sample-data" class="anchor"></a>Sample data</h2>
<p>Sample data that will be used here is bacterial proteins provided within this package. These sample data contain ten different protein sequences in FASTA format. These data can be loaded as follows:</p>
<div class="sourceCode" id="cb3"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="kw"><a href="https://github.com/ruthkr/deepredeff">deepredeff</a></span>)

<span class="co"># Define the fasta path from the sample data</span>
<span class="kw">bacteria_fasta_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span>(
  <span class="st">"extdata/example"</span>, <span class="st">"bacteria_sample.fasta"</span>, 
  package = <span class="st">"deepredeff"</span>
)

<span class="kw">bacteria_fasta_path</span>
<span class="co">#&gt; [1] "/usr/local/Cellar/r/4.0.0/lib/R/library/deepredeff/extdata/example/bacteria_sample.fasta"</span>
</pre></div>
</div>
<div id="effector-prediction" class="section level2">
<h2 class="hasAnchor">
<a href="#effector-prediction" class="anchor"></a>Effector prediction</h2>
<p>Once the data are loaded, you can predict them using the function <code><a href="../reference/predict_effector.html">predict_effector()</a></code>. Since it is known that the sample data are bacterial protein, then we can use particular model trained previously using bacterial protein data by choosing <code>model = bacteria</code>. There are also different This prediction can be done as follows.</p>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="co"># Predict the effector candidate using bacteria model</span>
<span class="kw">pred_result</span> <span class="op">&lt;-</span> <span class="kw">deepredeff</span>::<span class="fu"><a href="../reference/predict_effector.html">predict_effector</a></span>(
  input = <span class="kw">bacteria_fasta_path</span>,
  model = <span class="st">"bacteria"</span>
)
<span class="co">#&gt; Loaded models: cnn_gru, cnn_lstm, gru_emb, lstm_emb for bacteria.</span>
<span class="co">#&gt; Loaded models successfully!</span>
</pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit">
<span class="kw">pred_result</span> <span class="op">%&gt;%</span> 
  <span class="kw">dplyr</span>::<span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span>(name = <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span>(<span class="kw">name</span>, <span class="fl">1</span>, <span class="fl">25</span>), 
                sequence = <span class="fu"><a href="https://rdrr.io/r/base/substr.html">substr</a></span>(<span class="kw">sequence</span>, <span class="fl">1</span>, <span class="fl">25</span>)) <span class="op">%&gt;%</span> 
  <span class="kw">dplyr</span>::<span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span>(<span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="kw">name</span>, <span class="kw">sequence</span>, <span class="kw">prob</span>))
<span class="co">#&gt;                         name                  sequence       prob</span>
<span class="co">#&gt; 1  tr|A0A0N8SZV2|A0A0N8SZV2_ MPINRPAFNLKLNTAIAQPTLKKDA 0.94834236</span>
<span class="co">#&gt; 2  tr|A5CLR7|A5CLR7_CLAM3 Pa MQFMSRINRILFVAVVSLLSVLGCC 0.07981774</span>
<span class="co">#&gt; 3  sp|B2SU53|PTHX1_XANOP TAL MDPIRSRTPSPARELLPGPQPDRVQ 0.99433611</span>
<span class="co">#&gt; 4  tr|C0SPN9|C0SPN9_RALSL Un MSIGRSKSVAGASASHALASGENGS 0.84184432</span>
<span class="co">#&gt; 5  tr|D2Z000|D2Z000_RALSL Ty MPPPIRNARTTPPSFDPSAAGDDLR 0.99537852</span>
<span class="co">#&gt; 6  tr|Q8XX20|Q8XX20_RALSO Pu MSHMTFNTWKAGLWRLAAAAVLSLL 0.06455158</span>
<span class="co">#&gt; 7  tr|Q87UH8|Q87UH8_PSESM Ta MKLHFSLRLLTALSLTGATFLAQAA 0.04928582</span>
<span class="co">#&gt; 8  tr|Q4ZTI0|Q4ZTI0_PSEU2 Am MHRGPSFVKACAFVLSASFMLANTV 0.30616181</span>
<span class="co">#&gt; 9  tr|Q4ZR15|Q4ZR15_PSEU2 Se MRRQPSLTLRSTLAFALVAMLTVSG 0.07221440</span>
<span class="co">#&gt; 10 tr|D4I1R4|D4I1R4_ERWAC Ou MLSSNRRLLRLLPLASLLLTACGLH 0.04899144</span>
</pre></div>
<p>Prediction results from deepredeff will give you a dataframe object contains three different columns:</p>
<ol style="list-style-type: decimal">
<li>
<strong><code>name</code></strong>: contains your sequence name or IDs,</li>
<li>
<strong><code>sequence</code></strong>: contains your original,</li>
<li>
<strong><code>prob</code></strong>: a probability prediction of each sequence. This probability value (a score between 0 and 1) indicates how likely a sequence is to be an effector. The default probability cutoff value of deepredeff is 0.5. It means a sequence with probability prediction ≥ 0.5 is an effector, otherwise it is a non-effector.</li>
</ol>
</div>
<div id="summary-and-plot" class="section level2">
<h2 class="hasAnchor">
<a href="#summary-and-plot" class="anchor"></a>Summary and plot</h2>
<p>After getting the prediction results, you can get the overall information of the prediction results by running <code><a href="https://rdrr.io/r/base/summary.html">summary()</a></code>. With this, you can get information on how many of your data are predicted as effectors and non-effectors. This function is very useful if you have big number of sequence data. By default, the summary takes the default cutoff which is 0.5. However, you can also change the cutoff. The summary below shows that there are four sequences predicted as effectors and six sequences predicted as non-effectors.</p>
<div class="sourceCode" id="cb6"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span>(<span class="kw">pred_result</span>)
<span class="co">#&gt; # A tibble: 2 x 3</span>
<span class="co">#&gt;   pred_class   count proportion</span>
<span class="co">#&gt;   &lt;chr&gt;        &lt;int&gt;      &lt;dbl&gt;</span>
<span class="co">#&gt; 1 effector         4        0.4</span>
<span class="co">#&gt; 2 non-effector     6        0.6</span>
</pre></div>
<p>Next, you can also plot the density distribution of the prediction results by running <code>autoplot()</code> command. From the plot below, you can see the probability distribution of each class.</p>
<div class="sourceCode" id="cb7"><pre class="downlit">
<span class="kw">ggplot2</span>::<span class="fu"><a href="https://ggplot2.tidyverse.org/reference/autoplot.html">autoplot</a></span>(<span class="kw">pred_result</span>)
</pre></div>
<p><img src="https://raw.githubusercontent.com/ruthkr/deepredeff/master/man/figures/README-pred_result_plot-1.png"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Ruth Kristianingsih.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
