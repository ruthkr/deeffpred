<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>General overview of deepredeff • deepredeff</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="General overview of deepredeff">
<meta property="og:description" content="deepredeff">
<meta property="og:image" content="/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">deepredeff</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/overview.html">General overview of deepredeff</a>
    </li>
    <li>
      <a href="../articles/predict.html">More in predicting sequences</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ruthkr/deepredeff/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="overview_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>General overview of deepredeff</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ruthkr/deepredeff/blob/master/vignettes/overview.Rmd" class="external-link"><code>vignettes/overview.Rmd</code></a></small>
      <div class="hidden name"><code>overview.Rmd</code></div>

    </div>

    
    
<p><code>deepredeff</code> - from ‘deep learning prediction of effectors’ is a package that contains trained deep learning models for predicting effector proteins. <code>deepredeff</code> has been trained to identify effector proteins using a set of known experimentally validated effectors from either bacteria, fungi or oomycetes.</p>
<p><code>deepredeff</code> has the following key features:</p>
<ol style="list-style-type: decimal">
<li><p>Highly accurate and general predictions.</p></li>
<li><p>Works on <strong>bacteria</strong>, <strong>fungi</strong>, <strong>oomycete</strong> sequences.</p></li>
<li><p>Supports different input formats - FASTA, data frame, AAString, AAStringset, and character string format.</p></li>
<li><p>Allows user to get quick summaries and plots of the prediction results they have.</p></li>
</ol>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor" aria-hidden="true"></a>Installation</h2>
<p>First, we need to install the package itself by following the step below.</p>
<div id="install-deepredeff" class="section level3">
<h3 class="hasAnchor">
<a href="#install-deepredeff" class="anchor" aria-hidden="true"></a>Install deepredeff</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"devtools"</span><span class="op">)</span>
<span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"ruthkr/deepredeff"</span><span class="op">)</span></code></pre></div>
<p>The <code>deepredeff</code> package uses TensorFlow which is distributed as a Python package and so needs to be installed within a Python environment on your system. Therefore, you need to have Python on your system and the TensorFlow backend. If you already have TensorFlow 2.0.0 or later installed in your system, then you can specify the environment where your TensorFlow is installed using <code><a href="https://rdrr.io/pkg/reticulate/man/use_python.html" class="external-link">reticulate::use_condaenv()</a></code>.</p>
<p>If you do not have TensorFlow, then you can install it by simply following the step below.</p>
</div>
<div id="install-tensorflow" class="section level3">
<h3 class="hasAnchor">
<a href="#install-tensorflow" class="anchor" aria-hidden="true"></a>Install TensorFlow</h3>
<p>To install TensorFlow on your system, you need to run the following commands. <strong>Note that this only needs to be run once</strong>, the first time you use <code>deepredeff</code>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ruthkr/deepredeff/" class="external-link">deepredeff</a></span><span class="op">)</span>
<span class="fu"><a href="../reference/install_tensorflow.html">install_tensorflow</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>This will provide you with an installation of Python and TensorFlow suitable for use with the <code>deepredeff</code> R package. In particular, this command will download and install Miniconda, and create the <code>r-reticulate</code> environment in the following locations:</p>
<ul>
<li><p><strong>GNU/Linux</strong>: <code>/home/&lt;user&gt;/.local/share/r-miniconda/envs/r-reticulate</code></p></li>
<li><p><strong>macOS</strong>: <code>/Users/&lt;user&gt;/Library/r-miniconda/envs/r-reticulate</code></p></li>
<li><p><strong>Windows</strong>: <code>C:/Users/&lt;user&gt;/AppData/Local/r-miniconda/envs/r-reticulate</code></p></li>
</ul>
</div>
</div>
<div id="sample-data" class="section level2">
<h2 class="hasAnchor">
<a href="#sample-data" class="anchor" aria-hidden="true"></a>Sample data</h2>
<p>Sample data that will be used here is a set of acterial proteins provided within this package. These sample data contain ten different protein sequences in FASTA format. These data can be loaded as follows:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ruthkr/deepredeff/" class="external-link">deepredeff</a></span><span class="op">)</span>

<span class="co"># Define the fasta path from the sample data</span>
<span class="va">bacteria_fasta_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span>
  <span class="st">"extdata/example"</span>, <span class="st">"bacteria_sample.fasta"</span>, 
  package <span class="op">=</span> <span class="st">"deepredeff"</span>
<span class="op">)</span>

<span class="va">bacteria_fasta_path</span>
<span class="co">#&gt; [1] "/usr/local/Cellar/r/4.0.0/lib/R/library/deepredeff/extdata/example/bacteria_sample.fasta"</span></code></pre></div>
</div>
<div id="effector-prediction" class="section level2">
<h2 class="hasAnchor">
<a href="#effector-prediction" class="anchor" aria-hidden="true"></a>Effector prediction</h2>
<p>Once the data are loaded, you can predict them using the main function <code><a href="../reference/predict_effector.html">predict_effector()</a></code>. Since it is known that the sample data are bacterial protein, then we can use the model trained on bacterial effectors by choosing <code>taxon = "bacteria"</code>. Effector prediction with the sequences can be done as follows:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Predict the effector candidate using bacteria model</span>
<span class="va">pred_result</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/predict_effector.html">predict_effector</a></span><span class="op">(</span>
  input <span class="op">=</span> <span class="va">bacteria_fasta_path</span>,
  taxon <span class="op">=</span> <span class="st">"bacteria"</span>
<span class="op">)</span>
<span class="co">#&gt; Loaded models successfully!</span>
<span class="co">#&gt; Model used for taxon bacteria: ensemble_weighted.</span>

<span class="co"># View prediction results</span>
<span class="va">pred_result</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> 
  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">name</span>, <span class="fl">1</span>, <span class="fl">25</span><span class="op">)</span>, 
                sequence <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">sequence</span>, <span class="fl">1</span>, <span class="fl">25</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;                         name                  sequence    s_score   prediction</span>
<span class="co">#&gt; 1  tr|A0A0N8SZV2|A0A0N8SZV2_ MPINRPAFNLKLNTAIAQPTLKKDA 0.94834236     effector</span>
<span class="co">#&gt; 2  tr|A5CLR7|A5CLR7_CLAM3 Pa MQFMSRINRILFVAVVSLLSVLGCC 0.07981774 non-effector</span>
<span class="co">#&gt; 3  sp|B2SU53|PTHX1_XANOP TAL MDPIRSRTPSPARELLPGPQPDRVQ 0.99433611     effector</span>
<span class="co">#&gt; 4  tr|C0SPN9|C0SPN9_RALSL Un MSIGRSKSVAGASASHALASGENGS 0.84184432     effector</span>
<span class="co">#&gt; 5  tr|D2Z000|D2Z000_RALSL Ty MPPPIRNARTTPPSFDPSAAGDDLR 0.99537852     effector</span>
<span class="co">#&gt; 6  tr|Q8XX20|Q8XX20_RALSO Pu MSHMTFNTWKAGLWRLAAAAVLSLL 0.06455158 non-effector</span>
<span class="co">#&gt; 7  tr|Q87UH8|Q87UH8_PSESM Ta MKLHFSLRLLTALSLTGATFLAQAA 0.04928582 non-effector</span>
<span class="co">#&gt; 8  tr|Q4ZTI0|Q4ZTI0_PSEU2 Am MHRGPSFVKACAFVLSASFMLANTV 0.30616181 non-effector</span>
<span class="co">#&gt; 9  tr|Q4ZR15|Q4ZR15_PSEU2 Se MRRQPSLTLRSTLAFALVAMLTVSG 0.07221440 non-effector</span>
<span class="co">#&gt; 10 tr|D4I1R4|D4I1R4_ERWAC Ou MLSSNRRLLRLLPLASLLLTACGLH 0.04899144 non-effector</span></code></pre></div>
<p><code>deepredeff</code> will give you a dataframe object contains four different columns:</p>
<ol style="list-style-type: decimal">
<li>
<strong><code>name</code></strong>: the sequence identifiers.</li>
<li>
<strong><code>sequence</code></strong>: the input sequences.</li>
<li>
<strong><code>s_score</code></strong>: The prediction scores. A value between 0 and 1 that indicates the models level of belief that this sequence is an effector.</li>
<li>
<strong><code>prediction</code></strong>: class predictions obtained from <code>s_score</code> using the standard 0.5 threshold, if <code>s_score &gt;= 0.5</code> prediction is <code>effector</code>, else prediction is <code>non-effector</code>
</li>
</ol>
</div>
<div id="summary-and-plot" class="section level2">
<h2 class="hasAnchor">
<a href="#summary-and-plot" class="anchor" aria-hidden="true"></a>Summary and plot</h2>
<p>After getting the prediction results, you can see information on all the prediction results as a whole by running <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">pred_result</span><span class="op">)</span>
<span class="co">#&gt; Total sequences in input data: 10</span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Taxon chosen: bacteria</span>
<span class="co">#&gt; Model type used: ensemble_weighted</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Total sequences predicted as effector: 4</span>
<span class="co">#&gt; Total sequences predicted as non-effector: 6</span></code></pre></div>
<p>We can see information on the number of sequences predicted as effectors and non-effectors and the model parameters used.</p>
<p>You can also plot the density distribution of the <code>s_scores</code> results by running <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code>:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">pred_result</span><span class="op">)</span></code></pre></div>
<p><img src="https://raw.githubusercontent.com/ruthkr/deepredeff/master/man/figures/README-pred_result_plot-1.png"></p>
<p>Here we can see that there is a good separation between the scores of predicted effectors and non-effectors.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Ruth Kristianingsih.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link external-link">pkgdown</a> 1.6.1.9001.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
